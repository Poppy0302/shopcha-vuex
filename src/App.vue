<template>
  <div id="app">
    <b-navbar toggleable="lg" type="light" variant="light">
    <div class="h2 mb-0">
    <b-icon icon="cart-fill" style="color: #000000;"></b-icon>
    </div>
    <b-navbar-brand href="#">NOBI CHA</b-navbar-brand>

    <b-navbar-toggle target="nav-collapse"></b-navbar-toggle>

    <b-collapse id="nav-collapse" is-nav>
      <b-navbar-nav>
        <b-nav-item href="#">Link</b-nav-item>
        <b-nav-item href="#" disabled>Disabled</b-nav-item>
      </b-navbar-nav>

      <!-- Right aligned nav items -->
      <b-navbar-nav class="ml-auto">
        <b-nav-form>
          <b-form-input size="sm" class="mr-sm-2" placeholder="Search"></b-form-input>
          <b-button size="sm" class="my-2 my-sm-0" type="submit">Search</b-button>
        </b-nav-form>
        <div id="nav">
          <b-nav-item-dropdown right>
          <!-- Using 'button-content' slot -->
          <template #button-content>
            <em>User</em>
          </template>
          <b-dropdown-item href="#">Profile</b-dropdown-item>
          <b-dropdown-item href="#">Sign Out</b-dropdown-item>
        </b-nav-item-dropdown>
        </div>
      </b-navbar-nav>
    </b-collapse>
  </b-navbar>
    <div>
  <b-carousel
    id="carousel-fade"
    style="text-shadow: 0px 0px 2px #000"
    fade
    indicators
    img-width="1000px"
    img-height="300px"
  >
    <b-carousel-slide
      caption="‡∏´‡∏°‡∏ß‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡πÇ‡∏ã‡∏î‡∏≤"
      img-src="https://www.nobicha.co.th/wp-content/uploads/2018/12/soda-pic.jpg"
    ></b-carousel-slide>
    <b-carousel-slide
      caption="‡∏´‡∏°‡∏ß‡∏î‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß"
      img-src="https://www.nobicha.co.th/wp-content/uploads/2018/12/green-tea-pic.jpg"
    ></b-carousel-slide>
    <b-carousel-slide
      caption="‡∏´‡∏°‡∏ß‡∏î‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢"
      img-src="https://www.nobicha.co.th/wp-content/uploads/2018/12/thai-tea-pic.jpg"
    ></b-carousel-slide>
    <b-carousel-slide
      caption="‡∏´‡∏°‡∏ß‡∏î‡πÇ‡∏Å‡πÇ‡∏Å‡πâ"
      img-src="https://www.nobicha.co.th/wp-content/uploads/2018/12/cocoa-pic.jpg"
    ></b-carousel-slide>
    <b-carousel-slide
      caption="‡∏´‡∏°‡∏ß‡∏î‡∏Å‡∏≤‡πÅ‡∏ü"
      img-src="https://www.nobicha.co.th/wp-content/uploads/2018/12/coffee-pic.jpg"
    ></b-carousel-slide>
  </b-carousel>
</div>
<div class="container">
  <h2 align="center">‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h2>
  <div class="row">
    <div class="col-4 col-3 mt-4">
      <b-card
        title="‡πÉ‡∏´‡∏°‡πà ‡∏ö‡∏∏‡∏Å‡∏ö‡∏£‡∏≤‡∏ß‡∏ô‡πå‡∏ä‡∏π‡∏Å‡∏≤‡∏£‡πåü•≥‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà‡∏ï‡πà‡∏≥ ‡πÄ‡∏Ñ‡∏µ‡πâ‡∏¢‡∏ß‡∏™‡∏ô‡∏∏‡∏Å"
        img-src="https://www.nobicha.co.th/wp-content/uploads/2021/02/%E0%B9%83%E0%B8%AB%E0%B8%A1%E0%B9%88-%E0%B8%9A%E0%B8%B8%E0%B8%81%E0%B8%9A%E0%B8%A3%E0%B8%B2%E0%B8%A7%E0%B8%99%E0%B9%8C%E0%B8%8A%E0%B8%B9%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B9%8C-1536x1530.jpg"
        img-alt="Image"
        img-top
        tag="article"
        style="max-width: 20rem;"
        class="mb-2"
      >
      <b-card-text>
        ‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏≠‡∏á‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏£‡∏π‡πâ ‡∏£‡∏π‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏≠‡∏Å‡πÄ‡∏•‡∏¢‡∏´‡∏¢‡∏∏‡∏î‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà ‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏£‡πà‡∏¥‡∏¢‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏µ‡πà‡πÇ‡∏ô‡∏ö‡∏¥‡∏ä‡∏≤‡∏ó‡∏∏‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤
      </b-card-text>
      </b-card>
    </div>
    <div class="col-4 col-3 mt-4">
      <b-card
        title="Nobicha ùêó Foodpanda‡∏°‡∏≠‡∏ö‡∏™‡∏∏‡∏Ç‡∏™‡∏∏‡∏î‡πÜ"
        img-src="https://www.nobicha.co.th/wp-content/uploads/2021/01/nobicha-x-foodpanda-1527x1536.jpg"
        img-alt="Image"
        img-top
        tag="article"
        style="max-width: 20rem;"
        class="mb-2"
      >
      <b-card-text>
        ‡∏™‡∏±‡πà‡∏á foodpanda ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡∏•‡∏î‡πÄ‡∏•‡∏¢ ‡∏ø100 ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÉ‡∏™‡πà‡πÇ‡∏Ñ‡πâ‡∏î HOORAY100 ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡πà‡∏á‡∏Ñ‡∏£‡∏ö ‡∏ø200
      </b-card-text>
      </b-card>
    </div>
    <div class="col-4 col-3 mt-4">
      <b-card
        title="‡πÄ‡∏î‡∏•‡∏¥‡πÄ‡∏ß‡∏≠‡∏£‡∏µ‡πà‡∏´‡πà‡∏ß‡∏á‡πÉ‡∏¢‡πÅ‡∏ñ‡∏°‡∏¢‡∏±‡∏á‡πÑ‡∏î‡πâ ùêíùêìùêÄùêò ùêíùêÄùêÖùêÑ ‡∏ó‡∏µ‡πà‡∏ö‡πâ‡∏≤‡∏ô!"
        img-src="https://www.nobicha.co.th/wp-content/uploads/2021/01/%E0%B9%80%E0%B8%94%E0%B8%A5%E0%B8%B4%E0%B9%80%E0%B8%A7%E0%B8%AD%E0%B8%A3%E0%B8%B5%E0%B9%88%E0%B8%AB%E0%B9%88%E0%B8%A7%E0%B8%87%E0%B9%83%E0%B8%A2-%E0%B9%81%E0%B8%96%E0%B8%A1%E0%B8%A2%E0%B8%B1%E0%B8%87%E0%B9%84%E0%B8%94%E0%B9%89-%F0%9D%90%92%F0%9D%90%93%F0%9D%90%80%F0%9D%90%98-%F0%9D%90%92%F0%9D%90%80%F0%9D%90%85%F0%9D%90%84-%E0%B8%97%E0%B8%B5%E0%B9%88%E0%B8%9A%E0%B9%89%E0%B8%B2%E0%B8%99-1536x1536.jpg"
        img-alt="Image"
        img-top
        tag="article"
        style="max-width: 20rem;"
        class="mb-2"
      >
      <b-card-text>
        ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡πà‡∏ß‡∏á‡πÉ‡∏¢‡∏à‡∏≤‡∏Å‡∏ô‡πâ‡∏≠‡∏á‡πÇ‡∏ô‡∏ö‡∏¥‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏±‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á ùêÉùêûùê•ùê¢ùêØùêûùê´ùê≤
      </b-card-text>
      </b-card>
    </div>
    <div class="col-4 col-3 mt-4">
      <b-card
        title="‡∏ó‡πä‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á ‡πÇ‡∏ô‡∏ö‡∏¥‡∏ä‡∏≤ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô 5 ‡∏ö‡∏≤‡∏ó"
        img-src="https://www.nobicha.co.th/wp-content/uploads/2020/12/%E0%B8%97%E0%B9%8A%E0%B8%AD%E0%B8%9B%E0%B8%9B%E0%B8%B4%E0%B9%89%E0%B8%87-%E0%B9%82%E0%B8%99%E0%B8%9A%E0%B8%B4%E0%B8%8A%E0%B8%B2-%E0%B9%80%E0%B8%A3%E0%B8%B4%E0%B9%88%E0%B8%A1%E0%B8%95%E0%B9%89%E0%B8%99-5-%E0%B8%9A%E0%B8%B2%E0%B8%97.jpg"
        img-alt="Image"
        img-top
        tag="article"
        style="max-width: 20rem;"
        class="mb-2"
      >
      <b-card-text>
        ‡πÉ‡∏™‡πà‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏≠‡∏∞‡πÑ‡∏£ ‡∏Å‡πá‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ô‡∏î‡∏µ‚Ä¶
      </b-card-text>
      </b-card>
    </div>
    <div class="col-4 col-3 mt-4">
      <b-card
        title="‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß ‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏™‡∏∏‡∏î‡∏Ñ‡∏∏‡πâ‡∏°!!!"
        img-src="https://www.nobicha.co.th/wp-content/uploads/2020/12/%E0%B8%84%E0%B8%A3%E0%B8%B5%E0%B8%A1%E0%B9%80%E0%B8%97%E0%B8%B5%E0%B8%A2%E0%B8%A1-%E0%B9%82%E0%B8%99%E0%B8%9A%E0%B8%B4%E0%B8%8A%E0%B8%B2.jpg"
        img-alt="Image"
        img-top
        tag="article"
        style="max-width: 20rem;"
        class="mb-2"
      >
      <b-card-text>
        ‡∏Ñ‡∏£‡∏µ‡∏°‡πÄ‡∏ó‡∏µ‡∏¢‡∏° ‡∏ï‡∏£‡∏≤‡πÇ‡∏ô‡∏ö‡∏¥‡∏ä‡∏≤ Nobi cha Creamer ‡∏•‡∏±‡∏á‡∏•‡∏∞ 700 ‡∏ö‡∏≤‡∏ó 
      </b-card-text>
      </b-card>
    </div>
    <div class="col-4 col-3 mt-4">
      <b-card
        title="‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡πÉ‡∏´‡∏°‡πà!!! ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÉ‡∏Ñ‡∏£ ‡∏°‡∏µ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ ‚Äú‡πÇ‡∏ô‡∏ö‡∏¥‡∏ä‡∏≤‚Äù ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô"
        img-src="https://www.nobicha.co.th/wp-content/uploads/2020/08/%E0%B9%83%E0%B8%AB%E0%B8%A1%E0%B9%88-%E0%B9%84%E0%B8%82%E0%B9%88%E0%B8%A1%E0%B8%B8%E0%B8%81%E0%B8%84%E0%B8%A3%E0%B8%B4%E0%B8%AA%E0%B8%95%E0%B8%B1%E0%B8%A5-Crystal-Pearl-%E0%B8%81%E0%B8%A5%E0%B8%B4%E0%B9%88%E0%B8%99%E0%B8%A1%E0%B8%B0%E0%B8%9E%E0%B8%A3%E0%B9%89%E0%B8%B2%E0%B8%A7.jpg"
        img-alt="Image"
        img-top
        tag="article"
        style="max-width: 20rem;"
        class="mb-2"
      >
      <b-card-text>
        ‡πÑ‡∏Ç‡πà‡∏°‡∏∏‡∏Å‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡∏±‡∏• (Crystal Pearl) ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß
      </b-card-text>
      </b-card>
    </div>
  </div>
</div>
<div class="container">
  <h2 align="center">‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h2>
  <div class="row">
    <div class="col-md-2" v-for="item in products">
      <div class="card h-100">
        <img :src="item.image" class="card-img-top">
          <div class="card-body">
              <h4 class="card-title">{{item.name}}</h4>
              <p class="card-text">‡∏£‡∏≤‡∏Ñ‡∏≤ {{item.price}} ‡∏ö‡∏≤‡∏ó</p>
          </div>
          <div class="card-footer">
              <button class="btn btn-primary" @click="addCart(item)">‡∏´‡∏¢‡∏¥‡∏ö‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
          </div>
          </div>
    </div>
    <div class="col-md-8" v-if="carts!=0">
    <h4>
      ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
    <i class="fa fa-shopping-cart"></i>
    </h4>
    <hr>
    <table class="table">
    <thead class="thead-dark">
      <tr>
        <th scope="col">‡∏†‡∏≤‡∏û</th>
        <th scope="col">‡∏ä‡∏∑‡πà‡∏≠</th>
        <th scope="col">‡∏£‡∏≤‡∏Ñ‡∏≤</th>
        <th scope="col">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
        <th scope="col">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</th>
        <th scope="col">‡∏•‡∏ö</th>
      </tr>
    </thead>
    <tbody>
      <tr v-for="product in carts">
      <td>
        <img :src="product.image" alt="" width="80px" height="100px">
      </td>
      <td>{{product.name}}</td>
      <td>{{product.price}}</td>
      <td>
        <i class="fa fa-minus qty-minus" @click="minusQty(product)"></i>
            {{product.qty}}
            <i class="fa fa-plus qty-plus" @click="plusQty(product)"></i>
      </td>
      <td>{{product.total}}</td>
      <td>
        <button @click="removeProduct(product)" class="btn-danger">
          <i class="fa fa-trash"></i>
        </button>
      </td>
      </tr>
      </tbody>
      </table>
        <h4 align="right">‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô {{total()}} ‡∏ö‡∏≤‡∏ó</h4>
    </div>
    </div>
</div>   
</div>
</template>

<script>
export default {
  name: 'App',
  data(){
    return{
      carts:[],
      coffee:0,
      tea:0,
      products:[
        {
          id:1,
          name:"‡∏Å‡∏≤‡πÅ‡∏ü‡πÄ‡∏¢‡πá‡∏ô",
          price:25,
          image:"https://www.nobicha.co.th/wp-content/uploads/2018/12/nescafe.png",
          active:false
        },
        {
          id:2,
          name:"‡∏ä‡∏≤‡πÄ‡∏¢‡πá‡∏ô",
          price:19,
          image:"https://www.nobicha.co.th/wp-content/uploads/2018/12/thai-milk-tea.png",
          active:false
        }
      ]
    }
  },
  methods:{
      addCart:function(item){
          if(item.id==1){
            // ‡∏ã‡∏∑‡πâ‡∏≠‡∏Å‡∏≤‡πÅ‡∏ü
            this.coffee+=1;
            if(this.coffee<=1){
             //‡∏ã‡∏∑‡πâ‡∏≠‡∏£‡∏≠‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
              this.pushData(item)
            }else{
             //‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
              var found = this.findIndex(item);
              this.carts[found].qty+=1;
              this.carts[found].total=this.carts[found].qty * this.carts[found].price;
            }
          }else{
            //‡∏ã‡∏∑‡πâ‡∏≠‡∏ä‡∏≤‡πÄ‡∏¢‡πá‡∏ô
            this.tea+=1;
            if(this.tea<=1){
             //‡∏ã‡∏∑‡πâ‡∏≠‡∏£‡∏≠‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
              this.pushData(item)
            }else{
             //‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
              var found = this.findIndex(item);
              this.carts[found].qty+=1;
              this.carts[found].total=this.carts[found].qty * this.carts[found].price;
            }
          }
      },
      pushData(item){
         this.carts.push({
              id:item.id,
              name:item.name,
              price:item.price,
              image:item.image,
              qty:1,
              total:item.price
          })
      },
      findIndex:function(item){
          for(var i = 0;i<this.carts.length;i++){
             if(this.carts[i].id == item.id){
                return i; //‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡πÄ‡∏à‡∏≠‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
             }
          }
          return -1;
      },
      minusQty:function(product){
          product.qty-=1;
          if(product.qty<=1){
              product.qty=1
          }
          product.total=product.price*product.qty;
      },
      plusQty:function(product){
          product.qty+=1;
          product.total=product.price*product.qty;
      },
      removeProduct(product){
          if(confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ?")){
              var index=this.carts.indexOf(product);
              this.carts.splice(index,1);
              if(product.id==1){
                 this.coffee=0;
              }else{
                  this.tea=0;
              }
          }
      },
      total:function(){
         var sum=0;
         this.carts.forEach(function(item){
            sum+=item.total;
         })
         return sum;
      }
  }
}
</script>
<style  scoped>
.qty-minus{
    cursor: pointer;
    margin-right: 20px;
}
.qty-plus{
    cursor: pointer;
    margin-left: 20px;
}
</style>

